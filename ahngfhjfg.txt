-- load Rayfield
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- config
local DISCORD_CODE = "KazG3SxY8N" -- e.g. "abcdEFG"
local LUARMOR_URL = "https://api.luarmor.net/files/v3/loaders/931b47780b67616011da2614ce91ad19.lua"

-- window
local Window = Rayfield:CreateWindow({
    Name = "Access Panel",
    LoadingTitle = "Loading",
    LoadingSubtitle = "Please wait",
    ConfigurationSaving = {
        Enabled = false,
    },
    Discord = {
        Enabled = true,
        Invite = DISCORD_CODE,
        RememberJoins = false
    },
    KeySystem = false
})

-- tab
local Tab = Window:CreateTab("Key", 6031097225) -- icon id works on mobile too

-- store key here
local typedKey = ""

-- input field
Tab:CreateInput({
    Name = "Your Key",
    PlaceholderText = "Paste your key here",
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        typedKey = Text
    end,
})

-- submit button
Tab:CreateButton({
    Name = "Submit",
    Callback = function()
        if typedKey == "" then
            Rayfield:Notify({
                Title = "Key Required",
                Content = "Please paste a key first.",
                Duration = 4
            })
            return
        end
        getgenv().script_key = typedKey
        loadstring(game:HttpGet(LUARMOR_URL))()
        Rayfield:Destroy()
    end,
})

-- divider
Tab:CreateSection("Other")

-- discord button
Tab:CreateButton({
    Name = "Join our Discord",
    Callback = function()
        if setclipboard then
            setclipboard("https://discord.gg/" .. DISCORD_CODE)
        end
        Rayfield:Notify({
            Title = "Discord",
            Content = "Invite copied to clipboard.",
            Duration = 4
        })
    end,
})

-- label under button
Tab:CreateParagraph({
    Title = "Need a Key?",
    Content = "Make a ticket in Discord if you want a free 30 minute trial key."
})
